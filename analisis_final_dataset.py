# -*- coding: utf-8 -*-
"""analisis_final_dataset.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1NlCHZVZtU_LD4hKFcV36YE4ydFJUDSMJ
"""

# Comparación datasets

# Importamos librerías
import matplotlib.pyplot as plt

# DATOS: Variación de probabilidad de retraso según hora
# Este número mide el "impacto de la hora del vuelo"
nombres = ["Javier", "Rafael", "Anna", "Alex"]
variaciones = [0.08168772635113504, 0.0617, 0.06625976077440347, 0.005829360131785699]

plt.figure(figsize=(10,5))
bars = plt.bar(nombres, variaciones, color=["skyblue", "orange", "green", "red"])
plt.ylabel("Variación de probabilidad de retraso")
plt.title("Impacto de la hora del vuelo según dataset")

# Añadimos los valores exactos encima de cada barra
for bar in bars:
    yval = bar.get_height()
    plt.text(bar.get_x() + bar.get_width()/2, yval + 0.002, round(yval,4), ha='center', va='bottom')

plt.ylim(0, max(variaciones)+0.02)
plt.show()

"""
1. Qué significa "impacto de la hora del vuelo":
   - Es cuánto cambia la probabilidad de retraso según la hora a la que sale el vuelo.
   - Un valor alto significa que la hora importa mucho; un valor bajo significa que importa poco.

2. Qué significan los números:
   - Javier: 0.0817 → la hora tiene mucho efecto, pero es menos consistente.
   - Rafael: 0.0617 → la hora tiene efecto medio, pero es estable y fiable.
   - Anna: 0.0663 → efecto medio, pero no captura todos los patrones.
   - Alex: 0.00583 → la hora casi no afecta los retrasos; el dataset captura muy poca señal horaria.

3. Por qué elegir Rafael:
   - Nos da información clara y consistente sobre cuándo es más probable un retraso.
   - Evita confundirnos con valores ruidosos o inconsistentes.
   - Es como elegir la brújula más fiable: apunta bien aunque no sea el número más alto.
"""

print("Rafael nos dice claramente qué horas afectan los retrasos y lo hace de manera consistente, por eso es el dataset más fiable para predecir vuelos retrasados.")

print(
    "POR QUÉ ES IMPORTANTE QUE EL IMPACTO DE LA HORA SEA BAJO\n\n"
    "El impacto de la hora del vuelo mide cuánto cambia la probabilidad\n"
    "de retraso según la hora de salida.\n\n"
    "Un valor muy alto no implica mejor información.\n"
    "Suele indicar problemas de estabilidad.\n\n"
    "Impacto alto:\n"
    "- Grandes cambios de probabilidad según la hora.\n"
    "- Puede deberse a ruido o pocos datos.\n"
    "- Modelo muy sensible y poco generalizable.\n\n"
    "Impacto bajo o moderado:\n"
    "- La hora influye de forma controlada.\n"
    "- Patrón más estable y consistente.\n"
    "- Representa mejor la realidad.\n\n"
    "Impacto muy bajo:\n"
    "- La probabilidad de retraso apenas cambia según la hora.\n"
    "- La señal horaria es débil o ausente.\n"
    "- Modelos que usan este dataset no podrán aprovechar la hora como predictor.\n"
    "- Esto hace que el dataset sea poco útil para analizar retrasos por hora.\n\n"
    "Ventaja principal:\n"
    "- Reduce el sobreajuste.\n"
    "- Mejora la generalización.\n"
    "- Predicciones más fiables.\n\n"
    "Conclusión:\n"
    "Un impacto bajo indica un efecto real y estable, haciendo el dataset\n"
    "más confiable para predecir retrasos de vuelos. Sin embargo, si el\n"
    "impacto es muy bajo, como en Alex, la señal horaria se pierde y\n"
    "el dataset deja de ser útil para este criterio.\n"
"Si mi vuelo sale a las 6 am o a las 6 pm, ¿cambia mucho la probabilidad de retraso?"

)